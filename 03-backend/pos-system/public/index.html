<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart POS System</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div id="app">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1><i class="fas fa-cash-register"></i> <span data-i18n="app_name">Smart POS</span></h1>
      </div>
      <nav class="sidebar-nav">
        <a href="#" class="nav-item active" data-view="sale">
          <i class="fas fa-shopping-cart"></i>
          <span data-i18n="nav_sale">Sale</span>
        </a>
        <a href="#" class="nav-item" data-view="tables">
          <i class="fas fa-chair"></i>
          <span data-i18n="nav_tables">Tables</span>
        </a>
        <a href="#" class="nav-item" data-view="orders">
          <i class="fas fa-receipt"></i>
          <span data-i18n="nav_orders">Orders</span>
        </a>
        <a href="#" class="nav-item" data-view="reports">
          <i class="fas fa-chart-bar"></i>
          <span data-i18n="nav_reports">Reports</span>
        </a>
        <a href="#" class="nav-item" data-view="items" data-permission="items">
          <i class="fas fa-utensils"></i>
          <span data-i18n="nav_items">Items</span>
        </a>
        <a href="#" class="nav-item" data-view="users" data-permission="users">
          <i class="fas fa-users"></i>
          <span data-i18n="nav_users">Users</span>
        </a>
      </nav>
      <div class="sidebar-footer">
        <div class="user-info">
          <i class="fas fa-user-circle"></i>
          <span id="current-user">User</span>
        </div>
        <div class="sidebar-actions">
          <button id="btn-language" class="btn-icon" title="Change Language">
            <i class="fas fa-globe"></i>
          </button>
          <button id="btn-logout" class="btn-icon" title="Logout">
            <i class="fas fa-sign-out-alt"></i>
          </button>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Sale View -->
      <div id="view-sale" class="view active">
        <div class="sale-container">
          <!-- Categories & Items -->
          <div class="items-panel">
            <div class="categories-bar" id="categories-bar">
              <button class="category-btn active" data-category="all">
                <i class="fas fa-th"></i> <span data-i18n="all">All</span>
              </button>
            </div>
            <div class="search-bar">
              <i class="fas fa-search"></i>
              <input type="text" id="item-search" placeholder="Search items..." data-i18n-placeholder="search_items">
            </div>
            <div class="items-grid" id="items-grid">
              <!-- Items will be loaded here -->
            </div>
          </div>
          
          <!-- Cart -->
          <div class="cart-panel">
            <div class="cart-header">
              <h2><i class="fas fa-shopping-basket"></i> <span data-i18n="current_order">Current Order</span></h2>
              <button id="btn-select-table" class="btn-secondary btn-sm">
                <i class="fas fa-chair"></i> <span data-i18n="select_table">Select Table</span>
              </button>
            </div>
            <div class="cart-table-info" id="cart-table-info" style="display: none;">
              <span id="selected-table-name"></span>
              <button id="btn-clear-table" class="btn-icon btn-sm"><i class="fas fa-times"></i></button>
            </div>
            <div class="cart-items" id="cart-items">
              <div class="cart-empty">
                <i class="fas fa-shopping-basket"></i>
                <p data-i18n="cart_empty">No items in cart</p>
              </div>
            </div>
            <div class="cart-totals">
              <div class="total-row">
                <span data-i18n="subtotal">Subtotal</span>
                <span id="cart-subtotal">$0.00</span>
              </div>
              <div class="total-row">
                <span data-i18n="tax">Tax</span>
                <span id="cart-tax">$0.00</span>
              </div>
              <div class="total-row discount-row" style="display: none;">
                <span data-i18n="discount">Discount</span>
                <span id="cart-discount">-$0.00</span>
              </div>
              <div class="total-row total-final">
                <span data-i18n="total">Total</span>
                <span id="cart-total">$0.00</span>
              </div>
            </div>
            <div class="cart-actions">
              <button id="btn-clear-cart" class="btn-danger">
                <i class="fas fa-trash"></i> <span data-i18n="clear">Clear</span>
              </button>
              <button id="btn-discount" class="btn-secondary">
                <i class="fas fa-percent"></i> <span data-i18n="discount">Discount</span>
              </button>
              <button id="btn-checkout" class="btn-primary btn-lg" disabled>
                <i class="fas fa-credit-card"></i> <span data-i18n="pay">Pay</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Tables View -->
      <div id="view-tables" class="view">
        <div class="view-header">
          <h2><i class="fas fa-chair"></i> <span data-i18n="table_management">Table Management</span></h2>
          <div class="view-actions">
            <select id="floor-select">
              <option value="main">Main Floor</option>
            </select>
            <button id="btn-add-table" class="btn-primary">
              <i class="fas fa-plus"></i> <span data-i18n="add_table">Add Table</span>
            </button>
          </div>
        </div>
        <div class="tables-legend">
          <span class="legend-item"><span class="status-dot available"></span> <span data-i18n="available">Available</span></span>
          <span class="legend-item"><span class="status-dot occupied"></span> <span data-i18n="occupied">Occupied</span></span>
          <span class="legend-item"><span class="status-dot reserved"></span> <span data-i18n="reserved">Reserved</span></span>
          <span class="legend-item"><span class="status-dot cleaning"></span> <span data-i18n="cleaning">Cleaning</span></span>
        </div>
        <div class="tables-canvas" id="tables-canvas">
          <!-- Tables will be rendered here -->
        </div>
      </div>

      <!-- Orders View -->
      <div id="view-orders" class="view">
        <div class="view-header">
          <h2><i class="fas fa-receipt"></i> <span data-i18n="orders">Orders</span></h2>
          <div class="view-actions">
            <input type="date" id="orders-date" value="">
            <select id="orders-status">
              <option value="">All Status</option>
              <option value="pending">Pending</option>
              <option value="completed">Completed</option>
              <option value="cancelled">Cancelled</option>
            </select>
          </div>
        </div>
        <div class="orders-list" id="orders-list">
          <!-- Orders will be loaded here -->
        </div>
      </div>

      <!-- Reports View -->
      <div id="view-reports" class="view">
        <div class="view-header">
          <h2><i class="fas fa-chart-bar"></i> <span data-i18n="reports">Reports</span></h2>
          <div class="view-actions">
            <input type="date" id="report-start-date">
            <span>to</span>
            <input type="date" id="report-end-date">
            <button id="btn-generate-report" class="btn-primary">
              <i class="fas fa-sync"></i> <span data-i18n="generate">Generate</span>
            </button>
          </div>
        </div>
        <div class="reports-tabs">
          <button class="tab-btn active" data-report="daily">Daily Summary</button>
          <button class="tab-btn" data-report="sales">Sales Trend</button>
          <button class="tab-btn" data-report="items">Top Items</button>
          <button class="tab-btn" data-report="categories">Categories</button>
        </div>
        <div class="reports-content" id="reports-content">
          <!-- Reports will be loaded here -->
        </div>
      </div>

      <!-- Items Management View -->
      <div id="view-items" class="view">
        <div class="view-header">
          <h2><i class="fas fa-utensils"></i> <span data-i18n="items_management">Items Management</span></h2>
          <div class="view-actions">
            <button id="btn-add-category" class="btn-secondary">
              <i class="fas fa-folder-plus"></i> <span data-i18n="add_category">Add Category</span>
            </button>
            <button id="btn-add-item" class="btn-primary">
              <i class="fas fa-plus"></i> <span data-i18n="add_item">Add Item</span>
            </button>
          </div>
        </div>
        <div class="items-management">
          <div class="categories-list" id="manage-categories">
            <!-- Categories will be loaded here -->
          </div>
          <div class="items-table-container">
            <table class="data-table" id="items-table">
              <thead>
                <tr>
                  <th data-i18n="name">Name</th>
                  <th data-i18n="category">Category</th>
                  <th data-i18n="price">Price</th>
                  <th data-i18n="tax_rate">Tax Rate</th>
                  <th data-i18n="actions">Actions</th>
                </tr>
              </thead>
              <tbody id="items-table-body">
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Users View -->
      <div id="view-users" class="view">
        <div class="view-header">
          <h2><i class="fas fa-users"></i> <span data-i18n="users_management">Users Management</span></h2>
          <div class="view-actions">
            <button id="btn-add-user" class="btn-primary">
              <i class="fas fa-user-plus"></i> <span data-i18n="add_user">Add User</span>
            </button>
          </div>
        </div>
        <table class="data-table" id="users-table">
          <thead>
            <tr>
              <th data-i18n="username">Username</th>
              <th data-i18n="full_name">Full Name</th>
              <th data-i18n="role">Role</th>
              <th data-i18n="status">Status</th>
              <th data-i18n="actions">Actions</th>
            </tr>
          </thead>
          <tbody id="users-table-body">
          </tbody>
        </table>
      </div>
    </main>
  </div>

  <!-- Modals -->
  <div id="modal-overlay" class="modal-overlay">
    <div class="modal" id="modal">
      <div class="modal-header">
        <h3 id="modal-title">Modal</h3>
        <button class="modal-close" id="modal-close"><i class="fas fa-times"></i></button>
      </div>
      <div class="modal-body" id="modal-body">
      </div>
      <div class="modal-footer" id="modal-footer">
      </div>
    </div>
  </div>

  <!-- Toast Notifications -->
  <div id="toast-container" class="toast-container"></div>

  <!-- Receipt Print Template (hidden) -->
  <div id="receipt-template" style="display: none;">
    <div class="receipt">
      <div class="receipt-header">
        <h2 id="receipt-restaurant-name">Smart POS Restaurant</h2>
        <p id="receipt-date"></p>
        <p id="receipt-order-number"></p>
      </div>
      <div class="receipt-items" id="receipt-items"></div>
      <div class="receipt-totals" id="receipt-totals"></div>
      <div class="receipt-footer">
        <p id="receipt-footer-text">Thank you for dining with us!</p>
      </div>
    </div>
  </div>

  <script src="js/i18n.js"></script>
  <script src="js/api.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
