<!DOCTYPE html>
<html lang="es" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Plataforma soberana de Mapa para la infraestructura digital de 574 naciones tribales - Ierahkwa Ne Kanienke">
<meta name="theme-color" content="#00FF41">
<link rel="canonical" href="https://ierahkwa.nation/mapa-soberano/">
<link rel="manifest" href="../shared/manifest.json">
<link rel="icon" href="../icons/icon-96.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="../icons/icon-192.svg">
<meta property="og:title" content="MapaSoberano â€” Mapas Soberanos | MameyNode">
<meta property="og:description" content="Plataforma soberana de Mapa para la infraestructura digital de 574 naciones tribales - Ierahkwa Ne Kanienke">
<meta property="og:type" content="website">
<meta property="og:url" content="https://ierahkwa.nation/mapa-soberano/">
<meta property="og:image" content="https://ierahkwa.nation/icons/icon-512.svg">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MapaSoberano â€” Mapas Soberanos | MameyNode">
<meta name="twitter:description" content="Plataforma soberana de Mapa para la infraestructura digital de 574 naciones tribales - Ierahkwa Ne Kanienke">
<link rel="stylesheet" href="../shared/ierahkwa.css">
<title>MapaSoberano â€” Mapas Soberanos | MameyNode</title>
<style>:root{--accent:#00FF41}</style>
</head>
<body role="document">
<a href="#main" class="skip-nav">Skip to main content</a>
<div class="app">
<main id="main" aria-label="Contenido principal">
  <div class="map">
    <div class="map-grid"></div>
    <div class="map-content">
      <!-- Connections SVG -->
      <svg class="connections" viewBox="0 0 800 600" style="position:absolute;inset:0;pointer-events:none">
        <line x1="400" y1="180" x2="200" y2="350" stroke="rgba(45,212,168,0.15)" stroke-width="1" stroke-dasharray="4"/>
        <line x1="400" y1="180" x2="550" y2="280" stroke="rgba(45,212,168,0.15)" stroke-width="1" stroke-dasharray="4"/>
        <line x1="400" y1="180" x2="350" y2="420" stroke="rgba(212,168,83,0.15)" stroke-width="1" stroke-dasharray="4"/>
        <line x1="200" y1="350" x2="350" y2="420" stroke="rgba(155,109,255,0.15)" stroke-width="1" stroke-dasharray="4"/>
        <line x1="550" y1="280" x2="480" y2="400" stroke="rgba(155,109,255,0.15)" stroke-width="1" stroke-dasharray="4"/>
      </svg>
      <!-- Region Labels -->
      <div class="region" style="top:80px;left:280px;font-size:9px">NORTEAMÃ‰RICA</div>
      <div class="region" style="top:250px;left:180px;font-size:8px">CENTROAMÃ‰RICA</div>
      <div class="region" style="top:220px;left:500px;font-size:8px">CARIBE</div>
      <div class="region" style="top:380px;left:300px;font-size:9px">SUDAMÃ‰RICA</div>
      <!-- Markers -->
      <div class="marker" style="top:120px;left:250px"><div class="dot" style="background:var(--gold)">ğŸ¦…</div><div class="pulse" style="border-color:var(--gold)"></div><div class="label">NCAI Â· 574 Naciones</div><div class="info"><div class="i-name">NCAI â€” Washington D.C.</div><div class="i-type">574 Naciones Tribales Â· 5.2M personas</div><div class="i-desc">Center for Tribal Digital Sovereignty. Piloto BDET Bank en 5 naciones.</div></div></div>
      <div class="marker" style="top:100px;left:180px"><div class="dot" style="background:var(--tq)">ğŸ</div><div class="label">AFN Â· CanadÃ¡</div><div class="info"><div class="i-name">AFN â€” CanadÃ¡</div><div class="i-type">634 First Nations Â· 1.8M personas</div><div class="i-desc">Assembly of First Nations. InterÃ©s en SoberanoDoctor y Atabey.</div></div></div>
      <div class="marker" style="top:160px;left:140px"><div class="dot" style="background:var(--wp)">ğŸŒµ</div><div class="label">Navajo Nation</div><div class="info"><div class="i-name">Navajo Nation</div><div class="i-type">NaciÃ³n DinÃ© Â· 400K personas</div><div class="i-desc">HospedajeSoberano activo. Piloto telemedicina SoberanoDoctor.</div></div></div>
      <div class="marker" style="top:220px;left:150px"><div class="dot" style="background:var(--red)">ğŸŒ®</div><div class="label">INPI Â· MÃ©xico</div><div class="info"><div class="i-name">INPI â€” MÃ©xico</div><div class="i-type">27M indÃ­genas Â· 68 idiomas</div><div class="i-desc">Instituto Nacional de Pueblos IndÃ­genas. 364 variantes lingÃ¼Ã­sticas para Atabey.</div></div></div>
      <div class="marker" style="top:280px;left:170px"><div class="dot" style="background:#34d399">ğŸŒ¿</div><div class="label">Maya Â· Guatemala</div><div class="info"><div class="i-name">Comunidad Maya</div><div class="i-type">Guatemala Â· 6M Maya</div><div class="i-desc">ArtesanÃ­aSoberana activa. Textiles y cerÃ¡mica en SoberanoMarket.</div></div></div>
      <div class="marker" style="top:300px;left:200px"><div class="dot" style="background:var(--gold)">ğŸ›¶</div><div class="label">Kuna Â· PanamÃ¡</div><div class="info"><div class="i-name">Kuna Yala â€” PanamÃ¡</div><div class="i-type">Comarca Kuna Â· 80K personas</div><div class="i-desc">HospedajeSoberano: cabaÃ±as sobre el agua. Molas en ArtesanÃ­aSoberana.</div></div></div>
      <div class="marker" style="top:240px;left:520px"><div class="dot" style="background:var(--tq)">ğŸ</div><div class="label">Kalinago Â· Dominica</div><div class="info"><div class="i-name">Territorio Kalinago</div><div class="i-type">Dominica Â· Caribe</div><div class="i-desc">HospedajeSoberano frente al mar. ConexiÃ³n satelital activa.</div></div></div>
      <div class="marker" style="top:260px;left:480px"><div class="dot" style="background:var(--wp)">ğŸŒº</div><div class="label">TaÃ­no Â· BorikÃ©n</div><div class="info"><div class="i-name">UCTP â€” ConfederaciÃ³n TaÃ­na</div><div class="i-type">Caribe Â· Herencia TaÃ­na</div><div class="i-desc">Atabey Translator: revitalizaciÃ³n del idioma TaÃ­no.</div></div></div>
      <div class="marker" style="top:350px;left:350px"><div class="dot" style="background:var(--gold);width:28px;height:28px;font-size:14px">â›“</div><div class="pulse" style="border-color:var(--gold)"></div><div class="label" style="font-size:11px;color:var(--gold)">BDET Â· MameyNode HQ</div><div class="info"><div class="i-name">MameyNode HQ â€” Bolivia</div><div class="i-type">Nodo Central Â· BDET Bank Â· AI Fortress</div><div class="i-desc">296 plataformas. 42 motores AI. 12,847 TPS. Centro de operaciones soberano.</div></div></div>
      <div class="marker" style="top:380px;left:430px"><div class="dot" style="background:#34d399">ğŸŒ³</div><div class="pulse" style="border-color:#34d399"></div><div class="label">COICA Â· AmazonÃ­a</div><div class="info"><div class="i-name">COICA â€” 9 paÃ­ses amazÃ³nicos</div><div class="i-type">3.5M personas Â· AmazonÃ­a</div><div class="i-desc">Piloto SoberanoFarm + SoberanoClean. ConexiÃ³n satelital para comunidades remotas.</div></div></div>
      <div class="marker" style="top:400px;left:300px"><div class="dot" style="background:var(--wp)">ğŸ”</div><div class="label">CONAIE Â· Ecuador</div><div class="info"><div class="i-name">CONAIE â€” Ecuador</div><div class="i-type">ConfederaciÃ³n de Nacionalidades IndÃ­genas</div><div class="i-desc">Quechua en Atabey. SoberanoFarm para comunidades andinas.</div></div></div>
      <div class="marker" style="top:450px;left:380px"><div class="dot" style="background:var(--tq)">ğŸŒ¿</div><div class="label">APIB Â· Brasil</div><div class="info"><div class="i-name">APIB â€” Brasil</div><div class="i-type">900K indÃ­genas Â· 305 pueblos</div><div class="i-desc">SoberanoClean: monitoreo deforestaciÃ³n con IA satelital.</div></div></div>
      <div class="marker" style="top:480px;left:320px"><div class="dot" style="background:var(--red)">ğŸª¶</div><div class="label">Mapuche Â· Chile</div><div class="info"><div class="i-name">Comunidad Mapuche</div><div class="i-type">Chile/Argentina Â· 1.7M personas</div><div class="i-desc">ArtesanÃ­aSoberana: platerÃ­a Mapuche. Mapudungun en Atabey.</div></div></div>
    </div>
  </div>
<section class="sec-panel" aria-label="Interconexiones">
<h4><span aria-hidden="true">ğŸ”—</span> Interconexiones Activas</h4>
<div class="sec-check"><span class="dot ok" aria-hidden="true"></span><a href="../agricultura-soberana/" class="label">Agricultura</a><span class="status ok">Conectado</span></div>
<div class="sec-check"><span class="dot ok" aria-hidden="true"></span><a href="../agua-soberana/" class="label">Agua</a><span class="status ok">Conectado</span></div>
<div class="sec-check"><span class="dot ok" aria-hidden="true"></span><a href="../energia-soberana/" class="label">Energia</a><span class="status ok">Conectado</span></div>
<div class="sec-check"><span class="dot ok" aria-hidden="true"></span><a href="../minerales-soberanos/" class="label">Mineraless</a><span class="status ok">Conectado</span></div>
</section>
<section class="sec-panel" aria-label="Estado del Sistema">
<h4><span aria-hidden="true">âš¡</span> Estado en Tiempo Real</h4>
<div class="sec-check"><span class="dot ok" aria-hidden="true"></span><span class="label">Cifrado Quantum</span><span class="status ok">Activo</span></div>
<div class="sec-check"><span class="dot ok" aria-hidden="true"></span><span class="label">AI Engine</span><span class="status ok">Online</span></div>
<div class="sec-check"><span class="dot ok" aria-hidden="true"></span><span class="label">Bank-Grade TLS</span><span class="status ok">256-bit</span></div>
<div class="sec-check"><span class="dot ok" aria-hidden="true"></span><span class="label">Casino Fair RNG</span><span class="status ok">Verificado</span></div>
<div class="sec-check"><span class="dot ok" aria-hidden="true"></span><span class="label">Soberania Datos</span><span class="status ok">100%</span></div>
<div class="sec-progress"><div class="bar green" style="width:98%"></div></div>
</section>
</main>
  <!-- TOPBAR -->
  <div class="topbar">
    <div class="tb-brand"><span aria-hidden="true">ğŸ—º</span><h1>MapaSoberano</h1></div>
    <div class="search"><input placeholder="Buscar comunidades, servicios, nodos..." /></div>
    <div class="tb-r">
      <button class="tb-btn active">ğŸ›° SatÃ©lite</button>
      <button class="tb-btn">ğŸ—º Mapa</button>
      <button class="tb-btn">ğŸ“¡ Nodos</button>
      <button class="tb-btn">ğŸŒ Atabey</button>
      <button class="tb-btn">ğŸ”’</button>
    </div>
  </div>

  <div class="filters">
    <button class="fil a">ğŸŒ Todos</button>
    <button class="fil">ğŸ¦… Naciones Tribales</button>
    <button class="fil">ğŸ¦ BDET Bank</button>
    <button class="fil">ğŸ“¡ Nodos Satelitales</button>
    <button class="fil">ğŸ©º SoberanoDoctor</button>
    <button class="fil">ğŸ›’ SoberanoMarket</button>
    <button class="fil">ğŸ  Hospedaje</button>
    <button class="fil">ğŸ“š Pupitre</button>
    <button class="fil">ğŸŒ¾ SoberanoFarm</button>
    <button class="fil">ğŸŒ³ SoberanoClean</button>
  </div>

  <!-- LEFT PANEL -->
  <div class="panel">
    <div class="p-title">ğŸ“ Comunidades Soberanas</div>
    <div class="place"><div class="pl-top"><span class="pl-icon">ğŸ¦…</span><span class="pl-name">NCAI â€” 574 Naciones</span><span class="pl-dist">5,200 km</span></div><div class="pl-type">NorteamÃ©rica Â· Piloto Activo</div><div class="pl-desc">Center for Tribal Digital Sovereignty</div><div class="pl-tags"><span class="ptag ptag-s">BDET</span><span class="ptag ptag-e">Activo</span></div></div>
    <div class="place"><div class="pl-top"><span class="pl-icon">â›“</span><span class="pl-name">MameyNode HQ</span><span class="pl-dist">0 km</span></div><div class="pl-type">Bolivia Â· Nodo Central</div><div class="pl-desc">296 plataformas Â· 42 AI Â· 12,847 TPS</div><div class="pl-tags"><span class="ptag ptag-s">HQ</span><span class="ptag ptag-b">BDET</span><span class="ptag ptag-e">Online</span></div></div>
    <div class="place"><div class="pl-top"><span class="pl-icon">ğŸŒ³</span><span class="pl-name">COICA â€” AmazonÃ­a</span><span class="pl-dist">1,200 km</span></div><div class="pl-type">9 paÃ­ses Â· 3.5M personas</div><div class="pl-desc">SoberanoFarm + SoberanoClean piloto</div><div class="pl-tags"><span class="ptag ptag-e">Piloto</span><span class="ptag ptag-s">SatÃ©lite</span></div></div>
    <div class="place"><div class="pl-top"><span class="pl-icon">ğŸŒ</span><span class="pl-name">FILAC â€” 19 PaÃ­ses</span><span class="pl-dist">â€”</span></div><div class="pl-type">AmÃ©rica Latina Â· 58M personas</div><div class="pl-desc">Puente para expansiÃ³n continental</div><div class="pl-tags"><span class="ptag ptag-b">Alianza</span></div></div>
    <div class="place"><div class="pl-top"><span class="pl-icon">ğŸ</span><span class="pl-name">Kalinago â€” Dominica</span><span class="pl-dist">4,100 km</span></div><div class="pl-type">Caribe Â· Territorio Kalinago</div><div class="pl-desc">HospedajeSoberano + Satelital</div><div class="pl-tags"><span class="ptag ptag-e">Activo</span><span class="ptag ptag-s">SatÃ©lite</span></div></div>
    <div class="place"><div class="pl-top"><span class="pl-icon">ğŸŒº</span><span class="pl-name">TaÃ­no â€” BorikÃ©n</span><span class="pl-dist">4,300 km</span></div><div class="pl-type">Caribe Â· UCTP</div><div class="pl-desc">Atabey: revitalizaciÃ³n idioma TaÃ­no</div><div class="pl-tags"><span class="ptag ptag-e">Atabey</span></div></div>
  </div>

  <!-- ZOOM -->
  <div class="zoom">
    <button class="z-btn">+</button>
    <button class="z-btn">âˆ’</button>
    <button class="z-btn">ğŸ“</button>
    <button class="z-btn">ğŸ§­</button>
  </div>

  <!-- BOTTOM BAR -->
  <div class="bottombar">
    <span class="bb-stat">ğŸ“¡ <strong>847</strong> nodos activos</span>
    <span class="bb-stat">ğŸŒ <strong>19</strong> paÃ­ses</span>
    <span class="bb-stat">ğŸ‘¥ <strong>72M+</strong> personas</span>
    <span class="bb-stat">â›“ <strong>MameyNode v4.2</strong></span>
    <span class="bb-stat">ğŸ”’ Cifrado E2E</span>
    <span style="margin-left:auto;font-family:'IBM Plex Mono',monospace;font-size:10px">ğŸ›° Telecom Soberano Â· Lat: -16.5 Â· Lon: -68.1</span>
  </div>
</div>

<script src="../shared/ierahkwa-api.js"></script>
<script>
// Auto-connect to /api/postal-maps
window.PLATFORM_API = '/api/postal-maps';
if (!Ierahkwa.auth.isLoggedIn()) {
    console.log('[mapa-soberano] Not logged in â€” showing login modal');
}
</script>
<script>
/* Offline Module â€” Mapa Soberano v1.0.0 */
(function(){
  const DB_NAME='ierahkwa-mapa-offline';const DB_VER=1;
  const STORES=['tiles-cache','geojson-layers','marcadores','anotaciones-pendientes'];
  let db=null;

  function openDB(){
    return new Promise((resolve,reject)=>{
      const req=indexedDB.open(DB_NAME,DB_VER);
      req.onupgradeneeded=()=>{
        const d=req.result;
        STORES.forEach(s=>{if(!d.objectStoreNames.contains(s))d.createObjectStore(s,{keyPath:'id'})});
      };
      req.onsuccess=()=>{db=req.result;resolve(db)};
      req.onerror=()=>reject(req.error);
    });
  }

  async function cacheGeoLayers(){
    if(!navigator.onLine)return;
    try{
      const layers=['territories','resources','boundaries','communities','sacred-sites'];
      for(const l of layers){
        const res=await fetch(`/api/culture/maps/layers/${l}`);
        if(!res.ok)continue;const data=await res.json();
        const tx=db.transaction('geojson-layers','readwrite');
        tx.objectStore('geojson-layers').put({id:l,data,cached:Date.now()});
      }
      console.log('[mapa-offline] Cached 5 GeoJSON layers');
    }catch(e){console.warn('[mapa-offline] Layer cache failed:',e)}
  }

  async function cacheMarkers(){
    if(!navigator.onLine)return;
    try{
      const res=await fetch('/api/culture/maps/markers');
      if(!res.ok)return;const data=await res.json();
      const tx=db.transaction('marcadores','readwrite');
      data.forEach(m=>tx.objectStore('marcadores').put({...m,id:m.markerId,cached:Date.now()}));
      console.log(`[mapa-offline] Cached ${data.length} markers`);
    }catch(e){console.warn('[mapa-offline] Marker cache failed:',e)}
  }

  async function getOfflineLayer(layerName){
    const tx=db.transaction('geojson-layers','readonly');
    return new Promise(r=>{tx.objectStore('geojson-layers').get(layerName).onsuccess=e=>r(e.target.result?.data||null)});
  }

  async function getOfflineMarkers(){
    const tx=db.transaction('marcadores','readonly');
    return new Promise(r=>{tx.objectStore('marcadores').getAll().onsuccess=e=>r(e.target.result)});
  }

  async function addAnnotation(annotation){
    const tx=db.transaction('anotaciones-pendientes','readwrite');
    tx.objectStore('anotaciones-pendientes').put({id:Date.now().toString(),...annotation,created:Date.now(),synced:false});
  }

  async function syncAnnotations(){
    if(!navigator.onLine)return;
    const tx=db.transaction('anotaciones-pendientes','readonly');
    const all=await new Promise(r=>{tx.objectStore('anotaciones-pendientes').getAll().onsuccess=e=>r(e.target.result)});
    for(const a of all.filter(x=>!x.synced)){
      try{
        await fetch('/api/culture/maps/annotations',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(a)});
        const tx2=db.transaction('anotaciones-pendientes','readwrite');
        tx2.objectStore('anotaciones-pendientes').put({...a,synced:true});
      }catch{break}
    }
  }

  function showOfflineBanner(show){
    let b=document.getElementById('offline-banner');
    if(!b){
      b=document.createElement('div');b.id='offline-banner';
      b.style.cssText='position:fixed;bottom:0;left:0;right:0;background:#00bcd4;color:#09090d;text-align:center;padding:8px;font-size:13px;font-weight:700;z-index:9999;transform:translateY(100%);transition:transform .3s';
      b.textContent='Modo Offline â€” Mapas de territorios y capas GeoJSON disponibles';
      document.body.appendChild(b);
    }
    b.style.transform=show?'translateY(0)':'translateY(100%)';
  }

  async function init(){
    await openDB();
    if(navigator.onLine){await cacheGeoLayers();await cacheMarkers()}
    window.addEventListener('online',()=>{showOfflineBanner(false);syncAnnotations()});
    window.addEventListener('offline',()=>showOfflineBanner(true));
    if(!navigator.onLine)showOfflineBanner(true);
    console.log('[mapa-offline] Initialized â€” territories, resources, boundaries, markers');
  }

  window.IerahkwaMapaOffline={getLayer:getOfflineLayer,getMarkers:getOfflineMarkers,annotate:addAnnotation,sync:syncAnnotations};
  init();
})();
</script>
<script src="../shared/ierahkwa-security.js"></script>
<script src="../shared/ierahkwa-quantum.js"></script>
<script src="../shared/ierahkwa-protocols.js"></script>
<script src="../shared/ierahkwa-interconnect.js"></script>
<script>if("serviceWorker"in navigator){navigator.serviceWorker.register("../shared/sw.js").catch(function(){})}</script>
</body>
</html>
