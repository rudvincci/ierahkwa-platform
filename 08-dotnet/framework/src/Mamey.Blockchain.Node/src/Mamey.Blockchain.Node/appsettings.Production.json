{
  "$schema": "https://json.schemastore.org/appsettings.json",
  "Logging": {
    "LogLevel": {
      "Default": "Warning",
      "Microsoft.AspNetCore": "Warning",
      "Mamey": "Information",
      "Mamey.Security.PostQuantum": "Information"
    },
    "Structured": {
      "Enabled": true,
      "Format": "json"
    }
  },
  "AllowedHosts": "*",
  "Kestrel": {
    "Endpoints": {
      "Http": {
        "Url": "http://+:5001"
      },
      "Https": {
        "Url": "https://+:5443",
        "Certificate": {
          "Path": "/app/certs/server.pfx",
          "Password": ""
        }
      },
      "Grpc": {
        "Url": "http://+:5000",
        "Protocols": "Http2"
      },
      "GrpcSecure": {
        "Url": "https://+:5050",
        "Protocols": "Http2",
        "Certificate": {
          "Path": "/app/certs/server.pfx",
          "Password": ""
        }
      }
    },
    "Limits": {
      "MaxConcurrentConnections": 10000,
      "MaxRequestBodySize": 52428800
    }
  },
  "Security": {
    "PostQuantum": {
      "Enabled": true,
      "DefaultSignatureAlgorithm": "ML-DSA-65",
      "DefaultKemAlgorithm": "ML-KEM-768",
      "AllowedSignatureAlgorithms": [
        "ML-DSA-44",
        "ML-DSA-65",
        "ML-DSA-87",
        "HYBRID-RSA-MLDSA65",
        "HYBRID-ECDSA-MLDSA65"
      ],
      "AllowedKemAlgorithms": [
        "ML-KEM-512",
        "ML-KEM-768",
        "ML-KEM-1024"
      ],
      "HybridMode": {
        "Enabled": true,
        "ClassicalAlgorithm": "ECDSA",
        "PostQuantumAlgorithm": "ML-DSA-65",
        "RequireBothValid": true
      },
      "Migration": {
        "MandatoryPQCDate": "2026-06-01T00:00:00Z",
        "AllowClassicalSignatures": true,
        "AutoMigrateKeys": true,
        "GracePeriodDays": 90,
        "NotifyBeforeMigrationDays": 30
      },
      "KeyStorage": {
        "EncryptAtRest": true,
        "KeyDerivationFunction": "Argon2id",
        "BackupRequired": true
      },
      "Validation": {
        "RejectExpiredClassicalAfterMandatory": true,
        "LogClassicalUsage": true,
        "MetricsEnabled": true
      }
    },
    "RateLimiting": {
      "Enabled": true,
      "KeyGenerationPerMinute": 10,
      "SigningOperationsPerMinute": 1000,
      "VerificationOperationsPerMinute": 5000
    }
  },
  "Blockchain": {
    "NetworkId": "mainnet",
    "MaxBlockSizeBytes": 10485760,
    "MaxTransactionsPerBlock": 5000,
    "BlockTime": 5,
    "SignatureSizeLimit": 10000,
    "PQCTransactionPriority": "Normal"
  },
  "Consensus": {
    "ValidationLevel": "Hybrid",
    "RequirePQCForNewBlocks": false,
    "PQCSignatureRatioTarget": 0.5,
    "PQCMandatoryBlockHeight": 0,
    "ValidatorRequirements": {
      "MinimumPQCKeyAge": 86400,
      "RequireHybridKeys": true
    }
  },
  "ConnectionStrings": {
    "PostgreSQL": "",
    "MongoDB": "",
    "Redis": ""
  },
  "Metrics": {
    "Enabled": true,
    "Endpoint": "/metrics",
    "PQCMetrics": {
      "SignatureOperations": true,
      "KeyGeneration": true,
      "ValidationFailures": true,
      "MigrationProgress": true,
      "LatencyHistogram": true
    },
    "Labels": {
      "environment": "production",
      "service": "mameynode",
      "version": "v2-pqc"
    }
  },
  "Tracing": {
    "Enabled": true,
    "Exporter": "otlp",
    "Endpoint": "http://jaeger:4317",
    "ServiceName": "mameynode-pqc",
    "SamplingRatio": 0.1
  },
  "HealthChecks": {
    "Enabled": true,
    "DetailedErrors": false,
    "PQCLibraryCheck": true,
    "DatabaseChecks": true,
    "CacheCheck": true
  },
  "FeatureFlags": {
    "PQCEnabled": true,
    "HybridModeEnabled": true,
    "AutoMigration": true,
    "PQCMetricsDetailed": true
  }
}


