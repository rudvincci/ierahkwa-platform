@using Mamey.BlazorWasm.Routing
@namespace MameyNode.Portals.Shared.Components.Layout

<MudDrawer @bind-Open="@IsOpen" Variant="@DrawerVariant" Elevation="8">
    <MudDrawerHeader>
        <MudText Typo="Typo.h6">@Title</MudText>
    </MudDrawerHeader>
    <MudNavMenu>
        @if (Routes != null)
        {
            @foreach (var route in Routes)
            {
                <MudNavLink Href="@route.Page" Match="NavLinkMatch.Prefix">
                    <MudIcon Icon="@route.Icon" />
                    @route.Title
                </MudNavLink>
                @if (route.ChildRoutes != null && route.ChildRoutes.Any())
                {
                    @foreach (var childRoute in route.ChildRoutes)
                    {
                        <MudNavLink Href="@childRoute.Page" Match="NavLinkMatch.Prefix" Indent="true">
                            <MudIcon Icon="@childRoute.Icon" />
                            @childRoute.Title
                        </MudNavLink>
                    }
                }
            }
        }
        @if (ChildContent != null)
            {
                @ChildContent
            }
    </MudNavMenu>
</MudDrawer>

@code {
    [Parameter] public bool IsOpen { get; set; } = true;
    [Parameter] public string Title { get; set; } = "Navigation";
    [Parameter] public DrawerVariant DrawerVariant { get; set; } = DrawerVariant.Responsive;
    [Parameter] public List<Route>? Routes { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
}


