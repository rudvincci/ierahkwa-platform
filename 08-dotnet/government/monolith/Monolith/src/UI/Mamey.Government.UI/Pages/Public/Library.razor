@page "/library"

<PageTitle>Library - Mamey Government Portal</PageTitle>

<MudPaper Elevation="0" Class="pa-6">
    <MudStack Spacing="4">
        <MudText Typo="Typo.h4" Color="Color.Primary">National Library</MudText>
        
        <MudText Typo="Typo.body1">
            Access our collection of official documents, publications, and educational resources.
            The National Library serves as a repository of knowledge and cultural heritage.
        </MudText>

        <MudDivider Class="my-4" />

        <MudTextField @bind-Value="_searchQuery" Label="Search Library" Variant="Variant.Outlined"
                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Search"
                      Placeholder="Search documents, publications, and resources..." />

        <MudTabs Elevation="0" ApplyEffectsToContainer="true" PanelClass="pa-4">
            <MudTabPanel Text="Documents">
                <MudList T="string">
                    @foreach (var doc in _documents)
                    {
                        <MudListItem Icon="@Icons.Material.Filled.Description">
                            <MudStack Row="true" Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center">
                                <MudStack Spacing="0">
                                    <MudText Typo="Typo.body1">@doc.Title</MudText>
                                    <MudText Typo="Typo.caption" Class="mud-text-secondary">@doc.Category â€¢ @doc.Date</MudText>
                                </MudStack>
                                <MudButton Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Small">
                                    Download
                                </MudButton>
                            </MudStack>
                        </MudListItem>
                    }
                </MudList>
            </MudTabPanel>
            
            <MudTabPanel Text="Publications">
                <MudGrid>
                    @foreach (var pub in _publications)
                    {
                        <MudItem xs="12" sm="6" md="4">
                            <MudCard Elevation="2">
                                <MudCardContent>
                                    <MudText Typo="Typo.h6">@pub.Title</MudText>
                                    <MudText Typo="Typo.body2" Class="mud-text-secondary">@pub.Author</MudText>
                                    <MudText Typo="Typo.body2" Class="mt-2">@pub.Description</MudText>
                                </MudCardContent>
                                <MudCardActions>
                                    <MudButton Variant="Variant.Text" Color="Color.Primary">Read More</MudButton>
                                </MudCardActions>
                            </MudCard>
                        </MudItem>
                    }
                </MudGrid>
            </MudTabPanel>
            
            <MudTabPanel Text="Resources">
                <MudSimpleTable Dense="true">
                    <thead>
                        <tr>
                            <th>Resource</th>
                            <th>Category</th>
                            <th>Format</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var resource in _resources)
                        {
                            <tr>
                                <td>@resource.Name</td>
                                <td>@resource.Category</td>
                                <td><MudChip T="string" Size="Size.Small">@resource.Format</MudChip></td>
                                <td><MudButton Variant="Variant.Text" Size="Size.Small">Access</MudButton></td>
                            </tr>
                        }
                    </tbody>
                </MudSimpleTable>
            </MudTabPanel>
        </MudTabs>
    </MudStack>
</MudPaper>

@code {
    private string _searchQuery = "";

    private record Document(string Title, string Category, string Date);
    private record Publication(string Title, string Author, string Description);
    private record Resource(string Name, string Category, string Format);

    private readonly List<Document> _documents = new()
    {
        new("Constitution", "Legal", "2024-01-01"),
        new("Citizens Rights Act", "Legal", "2023-06-15"),
        new("Annual Budget Report", "Finance", "2024-01-10"),
        new("Environmental Policy", "Policy", "2023-12-01"),
        new("Education Reform Act", "Education", "2023-09-01")
    };

    private readonly List<Publication> _publications = new()
    {
        new("National Development Plan", "Government", "Strategic roadmap for national development over the next decade"),
        new("Cultural Heritage Guide", "Cultural Affairs", "Comprehensive guide to our nation's cultural heritage and traditions"),
        new("Citizen's Handbook", "Public Affairs", "Essential information for citizens about government services")
    };

    private readonly List<Resource> _resources = new()
    {
        new("Government Forms", "Administrative", "PDF"),
        new("Statistical Data", "Research", "Excel"),
        new("Photo Archive", "Media", "Images"),
        new("Video Library", "Media", "Video"),
        new("Audio Recordings", "Media", "Audio")
    };
}
